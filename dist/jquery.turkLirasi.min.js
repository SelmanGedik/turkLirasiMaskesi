$.fn.turkLirasi=function(l){var m=$.extend({allowedDecimal:true,maxDecimalCount:2,autoFillDecimal:true,suffix:'TL',formatted:true,autoSelect:true,align:'right',_eventAfterSet:false,_eventFocusOut:false,debug:false},l);var o=function(b,c,d,e){b=(b+'').replace(/[^0-9+\-Ee.]/g,'');var n=!isFinite(+b)?0:+b,prec=!isFinite(+c)?0:Math.abs(c),sep=(typeof e==='undefined')?',':e,dec=(typeof d==='undefined')?'.':d,s='',toFixedFix=function(n,a){var k=Math.pow(10,a);return''+Math.round(n*k)/k};s=(prec?toFixedFix(n,prec):''+Math.round(n)).split('.');if(s[0].length>3){s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep)}if((s[1]||'').length<prec){s[1]=s[1]||'';s[1]+=new Array(prec-s[1].length+1).join('0')}return s.join(dec)};var p=function(a,b){if(a.data('options').debug){console.log(b)}};var q=function(a){if(a==0)return'';return a};var r=function(a){if(a=='')return 0;return a};var t=function(a){if(a==false){return''}return' '+a};var u=function(a,b){a.data('decimalPoint',b)};var v=function(a){return a.data('decimalPoint')};var w=function(a){if(a.data('options').allowedDecimal&&a.data('options').autoFillDecimal){a.data('value','0');a.data('visualValue','0,00');u(a,true);a.val(a.data('visualValue')+t(a.data('options').suffix))}else{a.data('value',0);a.data('visualValue','0');u(a,false);a.val(a.data('visualValue')+t(a.data('options').suffix))}};var x=function(a,b){if(a.data('options')[b]!=false){return true}return false};var y=function(a,b,c){b=''+b;b=b.replace('.',',');a.data('value',b);sections=b.split(',');if(a.data('options').formatted){var d=o(sections[0],0,',','.')}else{var d=b}if(typeof sections[1]!='undefined'){u(a,true);d+=','+sections[1]}else{u(a,false)}a.data('visualValue',d);a.val(a.data('visualValue')+t(a.data('options').suffix));p(a,a.data());if(typeof c=='undefined'&&x(a,'_eventAfterSet')){a.trigger('change',a.data('options')._eventAfterSet)}};var z=function(a){if(a.data('selectAll')==true){w(a);a.data('selectAll',false);return true}return false};var A=function(a,b){a.data('options',b);var c=a.val();c=c.replace(/\./g,'').replace(',','.');c=parseFloat(c);if(isNaN(c)){w(a)}else{y(a,c,true)}};return this.each(function(){var h=$(this);var j=$.meta?$.extend({},m,h.data()):m;u(h,false);h.css('text-align',j.align);h.data('selectAll',true);A(h,j);$(this).click(function(){if(h.data('options').autoSelect){h.select();h.data('selectAll',true);p(h,'Tüm metin seçildi.')}});$(this).focusout(function(){if(h.data('options').allowedDecimal&&h.data('options').autoFillDecimal){if(h.data('value')!=''&&h.data('value')!='0'){sections=h.data('value').split(',');if(typeof sections[1]=='undefined'){var a=h.data('options').maxDecimalCount}else{var a=h.data('options').maxDecimalCount-sections[1].length}var b='';for(var i=1;i<=a;i++){b+='0'}if(!v(h)){b=','+b}u(h,true);h.data('value',h.data('value')+b);h.data('visualValue',h.data('visualValue')+b);h.val(h.data('visualValue')+t(h.data('options').suffix))}}if(x(h,'_eventFocusOut')){h.trigger('change',h.data('options')._eventFocusOut)}});$(this).on('setAgain',function(a,b){b=''+b;b=b.replace(/\./g,'').replace(',','.');y($(this),b)});$(this).keydown(function(e){var b=$(this);var c='';if(j.suffix!=''&&j.suffix!=false){c=' '+j.suffix}var d=e.charCode||e.keyCode||0;p(b,'Pressed Key Code: #'+d);if((e.ctrlKey||e.metaKey)&&d==86){b.val('');setTimeout(function(e){var a=b.val();a=a.replace(/\./g,'').replace(',','.');a=parseFloat(a);y(b,a)},0);return true}else if((e.ctrlKey||e.metaKey)&&d==67){return true}else if(d==9||d==39||d==40){b.data('selectAll',false);return true}else if(d==8){if(z(b)){return false}var f=q(b.data('value'));if(f.substr(f.length-1)==','){u(b,false)}f=f.substr(0,f.length-1);f=r(f);y(b,f);p(b,b.data())}else if(d==188&&b.data('options').allowedDecimal&&v(b)==false){var f=q(b.data('value'));f=f+',';y(b,f);p(b,b.data())}else if(d>=48&&d<=57){z(b);var f=q(b.data('value'));var g=f.split(',');if(v(b)){if(typeof g[1]!='undefined'&&g[1].length==j.maxDecimalCount){return false}}f=f+String.fromCharCode(e.keyCode);f=r(f);y(b,f);p(b,b.data())}else{return false}return false})})};